{
    "host": "vm-22",
    "user": "hadoop",
    "password": "hadoop",
    "pre-actions": ["ping www.baidu.com"],
    "actions": [
        "mv /home/wy/local/k8s /home/wy/local/k8s_`date +%Y%m%d%H%M%S` ",
        {
            "type": "upload",
            "from": "D:\\ideaworkspace\\apisix-fast\\k8s\\k8s.tar.gz",
            "to": "/home/wy/local/k8s.tar.gz"
        },
        "mkdir -p /home/wy/local/k8s",
        "tar -zxvf  /home/wy/local/k8s.tar.gz -C /home/wy/local/k8s",
        "rm -f /home/wy/local/k8s.tar.gz ",
        "kubectl apply -f /home/wy/local/k8s/spring-cloud-kubernetes/apisix-k8s-service.yaml ",
        "kubectl rollout restart deployment.apps/apisix-k8s-service-deployment "
    ],
    "post-actions": ["del /f D:\\ideaworkspace\\apisix-fast\\k8s\\k8s.tar.gz "]
}
